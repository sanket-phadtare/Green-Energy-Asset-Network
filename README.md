# üå± Green Energy Asset Network Portal

**Green Energy Portal** is a blockchain-powered platform that enables farmers to register, submit renewable energy meter readings, and receive verified energy certificates (tokenized as on-chain assets). Companies can register, login, and purchase certificates to offset energy usage. This project leverages **Aptos blockchain**, **Pinata (IPFS)**, and **PostgreSQL** for a decentralized, transparent, and scalable energy certification system.

---

## üîπ Features

### For Farmers

* Register and get a blockchain wallet.
* Submit solar/energy meter readings.
* Have readings verified by attestors.
* Automatically mint energy certificates as blockchain assets.

### For Companies

* Register and login securely.
* View company dashboard with details.
* See all certificates issued to farmers.
* Purchase certificates (future payment and token integration possible).

### Admin / Attestor

* Verify readings submitted by farmers.
* Pin attestations to IPFS via Pinata.
* Mint certificates on Aptos blockchain.

### Platform Overview

* Displays **total energy (kWh)** generated by all farmers.
* Displays **total farmers** registered.
* Displays **total companies** registered.
* Clean UI for farmer and company operations.

---

## üîπ Technology Stack

| Layer        | Technology                         |
| ------------ | ---------------------------------- |
| Backend      | Node.js, Express.js                |
| Blockchain   | Aptos (Move modules)               |
| Database     | PostgreSQL                         |
| Storage      | IPFS (via Pinata)                  |
| Frontend     | HTML, CSS, Vanilla JS              |
| API Requests | Axios / Fetch API                  |
| Deployment   | Localhost / AWS / Any Node hosting |

---

## üîπ Folder Structure

```
green-energy-portal/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ server.js        # Main Node.js server
‚îÇ   ‚îú‚îÄ‚îÄ package.json     # Dependencies
‚îÇ   ‚îî‚îÄ‚îÄ .env             # Environment variables (not committed)
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ index.html       # Farmer + Company dashboard
‚îÇ   ‚îú‚îÄ‚îÄ buy.html         # Certificate purchase page
‚îÇ   ‚îú‚îÄ‚îÄ company.js       # JS for company logic
‚îÇ   ‚îú‚îÄ‚îÄ app.js           # Main frontend logic
‚îÇ   ‚îî‚îÄ‚îÄ style.css        # Styling
‚îî‚îÄ‚îÄ README.md            # Documentation
```

---

## üîπ Installation Steps

### 1Ô∏è‚É£ Clone the repository

```bash
git clone https://github.com/<your-username>/green-energy-portal.git
cd green-energy-portal
```

---

### 2Ô∏è‚É£ Install Node.js and npm

```bash
node -v
npm -v
```

If not installed, download from [Node.js Official Website](https://nodejs.org/).

---

### 3Ô∏è‚É£ Install backend dependencies

```bash
cd backend
npm install
```

---

### 4Ô∏è‚É£ Configure environment variables

Create a `.env` file inside `/backend`:

```bash
touch .env
```

Add the following variables:

```env
PORT=3000
DB_HOST=localhost
DB_PORT=5432
DB_NAME=green_energy
DB_USER=postgres
DB_PASSWORD=your_db_password

APTOS_NODE_URL=https://fullnode.devnet.aptoslabs.com/v1
ATTESTOR_PRIVATE_KEY=0x<your_attestor_private_key>
ATTESTOR_ADDRESS=0x<attestor_wallet_address>
MODULE_ADDRESS=0x<aptos_module_address>

PINATA_API_KEY=<your_pinata_api_key>
PINATA_SECRET_KEY=<your_pinata_secret_key>
```

---

### 5Ô∏è‚É£ Setup PostgreSQL database

```sql
CREATE DATABASE green_energy;
```

Create tables:

```sql
-- Farmers
CREATE TABLE farmers (
  id SERIAL PRIMARY KEY,
  name TEXT NOT NULL,
  wallet_address TEXT NOT NULL,
  private_key TEXT NOT NULL,
  created_at TIMESTAMP DEFAULT NOW()
);

-- Companies
CREATE TABLE companies (
  id SERIAL PRIMARY KEY,
  name TEXT NOT NULL,
  email TEXT UNIQUE NOT NULL,
  password TEXT NOT NULL,
  wallet_address TEXT NOT NULL,
  created_at TIMESTAMP DEFAULT NOW()
);

-- Meter readings
CREATE TABLE meter_readings (
  id SERIAL PRIMARY KEY,
  farmer_id INT REFERENCES farmers(id),
  meter_id TEXT,
  kwh NUMERIC NOT NULL,
  ts TIMESTAMP NOT NULL,
  source TEXT,
  status TEXT DEFAULT 'pending',
  created_at TIMESTAMP DEFAULT NOW()
);

-- Attestations
CREATE TABLE attestations (
  id SERIAL PRIMARY KEY,
  reading_id INT REFERENCES meter_readings(id),
  attestor_address TEXT NOT NULL,
  ipfs_cid TEXT NOT NULL,
  attestation_json JSONB,
  created_at TIMESTAMP DEFAULT NOW()
);

-- Assets
CREATE TABLE assets (
  id SERIAL PRIMARY KEY,
  farmer_id INT REFERENCES farmers(id),
  attestation_id INT REFERENCES attestations(id),
  txn_hash TEXT NOT NULL,
  certificate_id TEXT NOT NULL,
  kwh NUMERIC,
  created_at TIMESTAMP DEFAULT NOW()
);
```

---

### 6Ô∏è‚É£ Run the backend

```bash
node server.js
```

Backend runs at **[http://localhost:3000](http://localhost:3000)**.

---

### 7Ô∏è‚É£ Open the frontend

Open `frontend/index.html` in your browser.

---

### 8Ô∏è‚É£ Verify blockchain integration

* Attestor wallet must have testnet APT coins.
* Certificates are pinned to IPFS and minted on Aptos blockchain.

---

## üîπ Screenshots

**1. Dashboard**: Company info, totals, certificates table.
**2. Buy Certificates Page**: Farmer cards with KWH and purchase button.

---

## üîπ Future Improvements

* Payment integration for certificate purchases.
* Automatic token transfer.
* Analytics and reporting.
* Multi-chain support.

---

